<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Report</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Introduction.html">Introduction</a>
</li>
<li>
  <a href="Datasets.html">Data</a>
</li>
<li>
  <a href="EDA.html">EDA</a>
</li>
<li>
  <a href="preliminary_study.html">Preliminary Analysis</a>
</li>
<li>
  <a href="regression_model.html">Regression</a>
</li>
<li>
  <a href="conclusion.html">Conclusion</a>
</li>
<li>
  <a href="https://cynthia-1688.shinyapps.io/p8105_mortality_Rshiny/">Shiny App</a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="https://github.com/candicejiaruiyu/p8105_mortality.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Report</h1>

</div>


<div id="motivation" class="section level1">
<h1>Motivation</h1>
<p>Predictors of in-hospital mortality in patients with heart failure
admitted to the intensive care unit (ICU) remain unclear. Aimed to lay a
solid foundation for data science and deepen our understanding of
mortality, we conducted comprehensive research based on the patients’
mortality factors dataset. Although this dataset belongs to a
cross-sectional study, we can still dig out some key patterns that
affect mortality and detect abnormal characteristics that indicate the
death sign at the early stage.</p>
</div>
<div id="related-work" class="section level1">
<h1>Related work</h1>
<p>Here are some key areas and examples of related published work:</p>
<ol style="list-style-type: decimal">
<li><p>“Trends in Hospital Mortality Between 1999 and 2017”: Studies
analyzing long-term trends in hospital mortality rates can provide
insights into improvements or challenges in healthcare outcomes over
time. Such research often involves large-scale data analysis to identify
patterns and changes.</p></li>
<li><p>“Risk Factors for Hospital Mortality in Critically Ill Patients”:
Research that focuses on identifying and understanding specific risk
factors associated with increased hospital mortality can inform targeted
interventions. This may involve studying critically ill populations and
factors such as comorbidities, severity of illness, and response to
treatment.</p></li>
<li><p>“Effectiveness of Early Warning Systems in Reducing Hospital
Mortality”: Investigating the impact of early warning systems and rapid
response teams on hospital mortality is a common area of interest. This
research often assesses the effectiveness of these systems in
identifying deteriorating patients and facilitating timely
interventions.</p></li>
<li><p>“Quality Improvement Initiatives and Their Impact on Hospital
Mortality”: Published work on quality improvement initiatives explores
how hospitals implement changes to improve patient outcomes. This may
involve the introduction of new protocols, guidelines, or patient safety
measures.</p></li>
<li><p>“Role of Health Information Technology in Predicting and
Preventing Hospital Mortality”: Research examining the integration of
health information technology, predictive modeling, and artificial
intelligence in predicting and preventing hospital mortality is an
evolving field. These studies often assess the accuracy and clinical
utility of predictive models.</p></li>
<li><p>“Ethical Considerations in End-of-Life Decision-Making and
Hospital Mortality”: Ethical considerations surrounding end-of-life
care, decision-making processes, and their impact on hospital mortality
are important topics. Studies in this area may explore the perspectives
of healthcare professionals, patients, and families.</p></li>
<li><p>“Interdisciplinary Collaboration and its Influence on Hospital
Mortality”: Research that investigates the role of effective
communication and collaboration among healthcare teams in reducing
hospital mortality is essential. This may include studies on teamwork,
communication strategies, and interdisciplinary approaches to patient
care.</p></li>
<li><p>“Comparative Effectiveness Research in Hospital Mortality”:
Comparative effectiveness research aims to compare different treatment
modalities and strategies to determine their impact on patient outcomes.
Published work in this area may assess the effectiveness of various
medical interventions and healthcare delivery models.</p></li>
</ol>
</div>
<div id="initial-questions" class="section level1">
<h1>Initial questions</h1>
<p>What factors have a significant impact on mortality?</p>
<p>What factors account for independent risk factors of in-hospital
mortality?</p>
<p>What potential clinical implications are the top three biomedical
indices that make the most significant contributions to the specific
disease?</p>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<div id="sources" class="section level2">
<h2>Sources</h2>
<p>We choose Hospital Mortality Dataset as our dataset in our study. The
data can be accessed <a
href="https://www.kaggle.com/datasets/saurabhshahane/in-hospital-mortality-prediction/data">here</a>.</p>
</div>
<div id="scaping-method" class="section level2">
<h2>Scaping method</h2>
<p>Our main datasets is Zhou, Jingmin et al. (2021), Prediction model of
in-hospital mortality in intensive care unit patients with heart
failure: machine learning-based, retrospective analysis of the MIMIC-III
database, Dryad, Dataset, <a
href="https://doi.org/10.5061/dryad.0p2ngf1zd"
class="uri">https://doi.org/10.5061/dryad.0p2ngf1zd</a>, which covers
the patients’ various indexes comprehensively, including 51 variables
such as Blood Pressure and BMI.</p>
<p>We categorized the dataset into following aspects:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Demographic characteristics:</strong> age at the time of
hospital admission, sex, ethnicity, weight, and height;</p></li>
<li><p><strong>Vital signs:</strong> heart rate, HR, systolic blood
pressure SBP, diastolic blood pressure DBP, mean blood pressure,
respiratory rate, body temperature, saturation pulse oxygen SPO2, urine
output in first 24 h;</p></li>
<li><p><strong>Comorbidities:</strong> hypertension, atrial
fibrillation, ischemic heart disease, diabetes mellitus, depression,
hypoferric anemia, hyperlipidemia, chronic kidney disease CKD, and
chronic obstructive pulmonary disease COPD;</p></li>
<li><p><strong>Laboratory variables:</strong> hematocrit, red blood
cells, mean corpuscular hemoglobin MCH, mean corpuscular hemoglobin
concentration MCHC, mean corpuscular volume MCV, red blood cell
distribution width RDW, platelet count, white blood cells, neutrophils,
basophils, lymphocytes, prothrombin time PT, international normalized
ratio INR, NT-proBNP, creatine kinase, creatinine, blood urea nitrogen
BUN glucose, potassium, sodium, calcium, chloride, magnesium, the anion
gap, bicarbonate, lactate, hydrogen ion concentration pH, partial
pressure of CO2 in arterial blood, and LVEF</p></li>
</ol>
<pre class="r"><code># Load the data and preprocess it
  mortality_data &lt;- read_csv(&quot;mortality_data_cleaned.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  drop_na(outcome) </code></pre>
</div>
<div id="cleaning" class="section level2">
<h2>Cleaning</h2>
<p><strong>Data cleaning problems:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Too many NA values: This issue introduces a layer of complexity,
demanding meticulous scrutiny to discern patterns, trends, and potential
biases.</p></li>
<li><p>Too many categorical variables/ binary variables: Similar to an
intricate cast of characters in a narrative, these variables contribute
to the richness of the data but also pose challenges for
analysis.</p></li>
<li><p>Multidimensionality: A dataset with numerous dimensions can
overwhelm analytical processes.</p></li>
</ol>
<p><strong>Our solutions:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Change NA values to the mean value of each variables;</p></li>
<li><p>Binarization: This process involves transforming numerical or
categorical variables into a binary representation, typically consisting
of 0s and 1s.</p></li>
<li><p>Dimensionality Reduction using Principle Component Analysis
(PCA); Or feature selection, become essential to distill the dataset
into its most salient components.</p></li>
</ol>
<pre class="r"><code># Define a function to convert multiple columns to factors
convert_to_factor &lt;- function(df, columns) {
  df[columns] &lt;- lapply(df[columns], factor)
  return(df)
}

# Load the data and preprocess it
mortality_data &lt;- read_csv(&quot;mortality_data.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  drop_na(outcome) %&gt;%
  convert_to_factor(., c(&quot;group&quot;, &quot;gendera&quot;, &quot;outcome&quot;, &quot;hypertensive&quot;, 
                         &quot;atrialfibrillation&quot;, &quot;chd_with_no_mi&quot;, &quot;diabetes&quot;, 
                         &quot;deficiencyanemias&quot;, &quot;depression&quot;, &quot;hyperlipemia&quot;, 
                         &quot;renal_failure&quot;, &quot;copd&quot;)) %&gt;%
  rename(gender = gendera)  # Rename gendera to gender after conversion</code></pre>
<p>Algorithms that find association patterns require that the data be in
the form of binary attributes. Thus, it is often necessary to transform
a continuous attribute into a categorical attribute (discretization),
and both continuous and discrete attributes may need to be transformed
into one or more binary attributes (binarization).</p>
<p>Additionally, if a categorical attribute has a large number of values
(categories), or some values occur infrequently, then it can be
beneficial for certain data mining tasks to reduce the number of
categories by combining some of the values.</p>
<pre class="r"><code># Imputing numerical columns with mean value 

numerical_columns &lt;- sapply(mortality_data, is.numeric)
mortality_data[numerical_columns] &lt;- lapply(mortality_data[numerical_columns], function(x) {
   ifelse(is.na(x), mean(x, na.rm = TRUE), x)
})


write_csv(mortality_data, &quot;mortality_data_cleaned.csv&quot;)</code></pre>
<p>After data cleaning, our dataset change into high quality data,
with:</p>
<ol style="list-style-type: decimal">
<li><p>No duplicates, ensuring that there are no duplicates is a
fundamental aspect of data quality and integrity;</p></li>
<li><p>No missing values, guaranteeing there are no missing values
involves thorough data cleaning and preprocessing steps;</p></li>
<li><p>No noise and outliers, contributing to the robustness and
reliability of statistical models, machine learning algorithms, and
other data-driven analyses;</p></li>
<li><p>Consistency, ensuring data consistency is essential for making
reliable interpretations, conducting meaningful analyses, and supporting
effective decision-making.</p></li>
</ol>
</div>
</div>
<div id="additional-analysis" class="section level1">
<h1>Additional analysis</h1>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<p>The EDA conducted on heart failure patients in the Intensive Care
Unit (ICU) provides valuable insights into the demographic,
physiological, and clinical factors influencing mortality rates.</p>
<div id="demographic-characteristics" class="section level3">
<h3>Demographic Characteristics</h3>
<p>The exploration of demographic factors such as gender and age
provides critical insights into their potential impact on the outcomes
of heart failure patients admitted to the Intensive Care Unit (ICU).
This report section presents an analysis of in-hospital mortality rates
categorized by gender and age groups.</p>
<div id="gender-based-mortality-analysis" class="section level4">
<h4>Gender-Based Mortality Analysis</h4>
<pre class="r"><code>mortality_data_EDA %&gt;%
  group_by(gender) %&gt;%
  summarise(
    Count = n(), # total number of entries for each gender
    Alive = sum(outcome == &quot;Alive&quot;), # number of outcomes with value 0
    Death = sum(outcome == &quot;Death&quot;), # number of outcomes with value 1
    Percentage = Death/Count
  ) %&gt;%
  knitr::kable(digits = 3)  </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">gender</th>
<th align="right">Count</th>
<th align="right">Alive</th>
<th align="right">Death</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">618</td>
<td align="right">539</td>
<td align="right">79</td>
<td align="right">0.128</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">558</td>
<td align="right">478</td>
<td align="right">80</td>
<td align="right">0.143</td>
</tr>
</tbody>
</table>
<p>The dataset comprised 618 females and 558 males. The mortality rate
among female patients was 12.8%, while the mortality rate for male
patients was slightly higher at 14.3%.</p>
</div>
<div id="age-based-mortality-analysis" class="section level4">
<h4>Age-Based Mortality Analysis</h4>
<pre class="r"><code># Define age intervals
age_breaks &lt;- c(-Inf, 20, 40, 60, 80, Inf)
age_labels &lt;- c(&#39;Under 20&#39;, &#39;20-40&#39;, &#39;40-60&#39;, &#39;60-80&#39;, &#39;Over 80&#39;)

# Create age groups and summarize outcomes
mortality_data_EDA %&gt;%
  mutate(Age_group = cut(age, breaks = age_breaks, labels = age_labels, right = FALSE)) %&gt;%
  group_by(Age_group) %&gt;%
  summarise(Count = n(),
            Alive = sum(outcome == &quot;Alive&quot;, na.rm = TRUE),
            Death = sum(outcome == &quot;Death&quot;, na.rm = TRUE),
            Percentage = Death/(Alive + Death)) %&gt;%
  knitr::kable(digits = 3)  </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Age_group</th>
<th align="right">Count</th>
<th align="right">Alive</th>
<th align="right">Death</th>
<th align="right">Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Under 20</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">20-40</td>
<td align="right">16</td>
<td align="right">15</td>
<td align="right">1</td>
<td align="right">0.062</td>
</tr>
<tr class="odd">
<td align="left">40-60</td>
<td align="right">158</td>
<td align="right">138</td>
<td align="right">20</td>
<td align="right">0.127</td>
</tr>
<tr class="even">
<td align="left">60-80</td>
<td align="right">492</td>
<td align="right">435</td>
<td align="right">57</td>
<td align="right">0.116</td>
</tr>
<tr class="odd">
<td align="left">Over 80</td>
<td align="right">508</td>
<td align="right">427</td>
<td align="right">81</td>
<td align="right">0.159</td>
</tr>
</tbody>
</table>
<p>It was observed that patients under 20 years had a 0% mortality rate.
Patients aged 20-40 years had a mortality rate of 6.2%, which increased
with age. The 40-60 and 60-80 age groups had mortality rates of 12.7%
and 11.6%, respectively. Notably, the group over 80 years had the
highest mortality rate at 15.9%, underscoring the increased
vulnerability among the elderly population.</p>
<pre class="r"><code># Distribution of Age
ggplot(mortality_data_EDA, aes(x = age)) +
  geom_histogram(binwidth = 3, fill = &quot;steelblue&quot;, color = &quot;black&quot;) +
  ggtitle(&quot;Age Distribution&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The histogram shows the age distribution of patients with heart
failure admitted to the ICU, and it is highly left-skewed. It shows that
the bulk of patients falls within the middle-aged to elderly category,
with a significant concentration between ages 70 and 90. This suggests
that heart failure is more prevalent or more severe, warranting ICU
admission, in this age demographic.</p>
</div>
<div id="gender-age-bivariate-analysis" class="section level4">
<h4>Gender &amp; Age Bivariate Analysis</h4>
<pre class="r"><code># Bivariate Analysis
ggplot(mortality_data_EDA, aes(x = gender, y = age, fill = outcome)) +
  geom_boxplot() +
  ggtitle(&quot;Age Distribution by Gender and Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>The boxplots show the age distribution for different genders and
outcomes. We see that for both genders, the age distribution for
patients who did not survive (outcome 1) is slightly higher. This could
indicate that older age is a risk factor for mortality in this patient
group.</p>
</div>
<div id="bmi-by-gender-and-outcome" class="section level4">
<h4>BMI by Gender and Outcome</h4>
<p>The histogram below illustrates the distribution of Body Mass Index
(BMI) across patients with heart failure, categorized by gender and
outcome (Alive vs. Death).</p>
<pre class="r"><code># BMI by Gender and Outcome
ggplot(mortality_data_EDA %&gt;% drop_na(bmi), aes(x = bmi, fill = as.factor(outcome))) +
  geom_histogram(binwidth = 4, position = &quot;dodge&quot;) +
  facet_wrap(~gender) +
  ggtitle(&quot;BMI by Gender and Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-8-1.png" width="864" /></p>
<p>It shows a wide range of BMI values for both genders, with no clear
pattern indicating that BMI is distinctly associated with the outcome.
However, there are more data points for BMI for outcome “Alive”, which
may suggest a higher survival rate for patients with a lower BMI, but
further statistical analysis is needed.</p>
</div>
</div>
<div id="comorbidities-analysis" class="section level3">
<h3>Comorbidities Analysis</h3>
<p>Analyzing the distribution of comorbidities by outcome can identify
factors that influence mortality in patients with heart failure. It
helps to understand the impact of comorbid conditions on patient
survival and could inform targeted interventions. The stacked bar chart
below presents the distribution of various comorbidities among heart
failure patients in the ICU, differentiated by patient outcomes of
survival and death.</p>
<pre class="r"><code># Analyzing the presence of comorbidities by outcome
comorbidities &lt;- c(&quot;hypertensive&quot;, &quot;diabetes&quot;, &quot;deficiencyanemias&quot;, &quot;depression&quot;, &quot;renal_failure&quot;, &quot;copd&quot;, &quot;hyperlipemia&quot;)

# Melt the data for easier plotting
mortality_long &lt;- melt(mortality_data_EDA, id.vars = &quot;outcome&quot;, measure.vars = comorbidities)

# Plotting comorbidities by outcome
comorbidity_plot &lt;- ggplot(mortality_long, aes(x = variable, fill = as.factor(value))) +
  geom_bar(position = &quot;fill&quot;) +
  facet_wrap(~outcome) +
  labs(x = &quot; &quot;, y = &quot;Count&quot;, fill = &quot;Presence&quot;) +
  ggtitle(&quot;Distribution of Comorbidities by Outcome&quot;) +
  scale_y_continuous(labels = scales::percent) +
  theme(axis.text.x = element_text(angle = 50, hjust = 1))

interactive_plot &lt;- ggplotly(comorbidity_plot)

interactive_plot</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2334b056fe50323264fe" style="width:864px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-2334b056fe50323264fe">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.73058013765978369,0.43067846607669619,0.35791543756145527,0.12684365781710916,0.3854473942969518,0.080629301868239925,0.39036381514257623],"x":[1,2,3,4,5,6,7],"y":[0.26941986234021631,0.56932153392330376,0.64208456243854473,0.87315634218289084,0.61455260570304815,0.91937069813176009,0.60963618485742377],"text":["count: 0.26941986<br />variable: hypertensive<br />as.factor(value): No","count: 0.56932153<br />variable: diabetes<br />as.factor(value): No","count: 0.64208456<br />variable: deficiencyanemias<br />as.factor(value): No","count: 0.87315634<br />variable: depression<br />as.factor(value): No","count: 0.61455261<br />variable: renal_failure<br />as.factor(value): No","count: 0.91937070<br />variable: copd<br />as.factor(value): No","count: 0.60963618<br />variable: hyperlipemia<br />as.factor(value): No"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"No","legendgroup":"No","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.63522012578616349,0.35849056603773582,0.22012578616352202,0.069182389937106917,0.23270440251572327,0.0440251572327044,0.31446540880503143],"x":[1,2,3,4,5,6,7],"y":[0.36477987421383651,0.64150943396226423,0.77987421383647804,0.9308176100628931,0.76729559748427678,0.95597484276729561,0.68553459119496862],"text":["count: 0.36477987<br />variable: hypertensive<br />as.factor(value): No","count: 0.64150943<br />variable: diabetes<br />as.factor(value): No","count: 0.77987421<br />variable: deficiencyanemias<br />as.factor(value): No","count: 0.93081761<br />variable: depression<br />as.factor(value): No","count: 0.76729560<br />variable: renal_failure<br />as.factor(value): No","count: 0.95597484<br />variable: copd<br />as.factor(value): No","count: 0.68553459<br />variable: hyperlipemia<br />as.factor(value): No"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"No","legendgroup":"No","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7],"y":[0.73058013765978369,0.43067846607669619,0.35791543756145527,0.12684365781710916,0.3854473942969518,0.080629301868239925,0.39036381514257623],"text":["count: 0.73058014<br />variable: hypertensive<br />as.factor(value): Yes","count: 0.43067847<br />variable: diabetes<br />as.factor(value): Yes","count: 0.35791544<br />variable: deficiencyanemias<br />as.factor(value): Yes","count: 0.12684366<br />variable: depression<br />as.factor(value): Yes","count: 0.38544739<br />variable: renal_failure<br />as.factor(value): Yes","count: 0.08062930<br />variable: copd<br />as.factor(value): Yes","count: 0.39036382<br />variable: hyperlipemia<br />as.factor(value): Yes"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Yes","legendgroup":"Yes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7],"y":[0.63522012578616349,0.35849056603773582,0.22012578616352202,0.069182389937106917,0.23270440251572327,0.0440251572327044,0.31446540880503143],"text":["count: 0.63522013<br />variable: hypertensive<br />as.factor(value): Yes","count: 0.35849057<br />variable: diabetes<br />as.factor(value): Yes","count: 0.22012579<br />variable: deficiencyanemias<br />as.factor(value): Yes","count: 0.06918239<br />variable: depression<br />as.factor(value): Yes","count: 0.23270440<br />variable: renal_failure<br />as.factor(value): Yes","count: 0.04402516<br />variable: copd<br />as.factor(value): Yes","count: 0.31446541<br />variable: hyperlipemia<br />as.factor(value): Yes"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Yes","legendgroup":"Yes","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":56.182648401826484,"r":7.3059360730593621,"b":40.913242009132425,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Distribution of Comorbidities by Outcome","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.49154405547099611],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["hypertensive","diabetes","deficiencyanemias","depression","renal_failure","copd","hyperlipemia"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["hypertensive","diabetes","deficiencyanemias","depression","renal_failure","copd","hyperlipemia"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-50,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":" ","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Count","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.607305936073061},{"text":"Alive","x":0.24577202773549806,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Death","x":0.754227972264502,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.050000000000000003,1.05],"tickmode":"array","ticktext":["0%","25%","50%","75%","100%"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0%","25%","50%","75%","100%"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.49154405547099611,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.49154405547099611,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.50845594452900389,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.50845594452900389,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["hypertensive","diabetes","deficiencyanemias","depression","renal_failure","copd","hyperlipemia"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["hypertensive","diabetes","deficiencyanemias","depression","renal_failure","copd","hyperlipemia"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-50,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.50845594452900389,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Presence","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e8986083c8c8":{"x":{},"fill":{},"type":"bar"}},"cur_data":"e8986083c8c8","visdat":{"e8986083c8c8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Observations based on the chart include:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Prevalence of Comorbidities</strong>: The chart shows
that certain comorbidities such as hypertension, diabetes, and
hyperlipemia are common among heart failure patients. This indicates
that these conditions frequently co-occur with heart failure, which
could compound the complexity of patient management.</p></li>
<li><p><strong>Impact on Mortality</strong>: The chart indicates a
higher ‘Yes’ proportion in the ‘Alive’ outcome, which suggests that
having the comorbidity did not necessarily correlate with a higher
mortality risk for that specific condition within this patient sample.
However, there could be a survival bias where patients with certain
comorbidities survive long enough to be included in the study, whereas
those severely affected may not have been admitted or were not included
in the dataset.</p></li>
<li><p><strong>Variable Significance</strong>: The difference between
two groups underscores the importance of considering comorbidities in
predictive modeling for mortality. Further analysis could involve
investigating the reasons behind the survival rates of patients with
specific comorbidities.</p></li>
</ol>
</div>
<div id="lab-results-analysis" class="section level3">
<h3>Lab Results Analysis</h3>
<p>This section offers a quantitative glimpse into potential biological
markers that could contribute to our predictive model, thus enhancing
our ability to conduct further analysis and understand mortality more
deeply.</p>
<div id="hematocrit-levels-by-outcome" class="section level4">
<h4>Hematocrit Levels by Outcome</h4>
<pre class="r"><code># Visualize Hematocrit Levels by Outcome with a violin plot
ggplot(mortality_data_EDA, aes(x = outcome, y = hematocrit, color = outcome)) +
  geom_violin() +
  labs(title = &quot;Hematocrit Levels by Outcome&quot;, x = &quot;Outcome&quot;, y = &quot;Hematocrit (%)&quot;) +
  theme_minimal()</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>The plot illustrates a comparison of hematocrit levels in patients
who were admitted to the ICU with heart failure and subsequently either
survived (Alive) or did not (Death). There doesn’t seem to be a clear
separation between the two outcomes based on hematocrit levels alone.
The peak of the distribution for the deceased patients appears to be
slightly lower than that of the survivors.</p>
</div>
<div id="heart-rate-distribution-by-outcome" class="section level4">
<h4>Heart Rate Distribution by Outcome</h4>
<p>The density plot below illustrates the distribution of heart rate
among patients with heart failure, categorized by the outcome of either
survival (Alive) or death (Death).</p>
<pre class="r"><code># Heart Rate by Outcome
ggplot(mortality_data_EDA, aes(x = heart_rate, fill = as.factor(outcome))) +
  geom_density(alpha = 0.7) +
  labs(title = &quot;Heart Rate Distribution by Outcome&quot;, x = &quot;Heart Rate&quot;, y = &quot;Density&quot;) +
  theme_minimal()</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>The density plot for heart rate shows that the distribution of heart
rates for patients who did not survive is slightly shifted towards the
higher end compared to those who survived. This could suggest that a
higher heart rate is associated with a higher risk of mortality.</p>
</div>
<div id="blood-pressure-by-outcome" class="section level4">
<h4>Blood Pressure by Outcome</h4>
<pre class="r"><code># Blood Pressure by Outcome
ggplot(mortality_data_EDA, aes(x = systolic_blood_pressure, y = diastolic_blood_pressure, color = as.factor(outcome))) +
  geom_point(alpha = 0.5) +
  ggtitle(&quot;Blood Pressure by Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>This scatterplot shows systolic vs. diastolic blood pressure colored
by outcome. The points are widely spread, indicating variability in
blood pressure readings across the patient population. There doesn’t
seem to be a clear separation between the two outcomes based on blood
pressure alone.</p>
</div>
<div id="other-lab-results-analysis" class="section level4">
<h4>Other Lab Results Analysis</h4>
<p>This section contains the visualization for some other lab results,
like the distributions for creatinine and BUN levels. More visualization
can be found in the shiny app section.</p>
<pre class="r"><code>par(mar = c(4, 4, .1, .1))

# Creatinine levels by outcome
ggplot(mortality_data_EDA %&gt;% drop_na(creatinine), aes(x = creatinine, fill = as.factor(outcome))) +
  geom_density(alpha = 0.5) +
  ggtitle(&quot;Creatinine Levels by Outcome&quot;) 

# Urea nitrogen levels by outcome
ggplot(mortality_data_EDA %&gt;% drop_na(urea_nitrogen), aes(x = urea_nitrogen, fill = as.factor(outcome))) +
  geom_density(alpha = 0.5) +
  ggtitle(&quot;Blood Urea nitrogen Levels by Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/figures-side-1.png" width="50%" /><img src="report_files/figure-html/figures-side-2.png" width="50%" /></p>
<pre class="r"><code>par(mar = c(4, 4, .1, .1))

# Leucocyte count by outcome
ggplot(mortality_data_EDA %&gt;% drop_na(leucocyte), aes(x = leucocyte, fill = as.factor(outcome))) +
  geom_density(alpha = 0.5) +
  ggtitle(&quot;Leucocyte Count by Outcome&quot;)

# Glucose levels by outcome
ggplot(mortality_data_EDA %&gt;% drop_na(glucose), aes(x = glucose, fill = as.factor(outcome))) +
  geom_density(alpha = 0.5) +
  ggtitle(&quot;Glucose Levels by Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-13-1.png" width="50%" /><img src="report_files/figure-html/unnamed-chunk-13-2.png" width="50%" /></p>
<p>Observations based on the plots include:</p>
<ul>
<li><strong>Blood Urea Nitrogen Levels by Outcome</strong>: Patients
with higher blood urea Nitrogen levels seem to have a poorer outcome, as
indicated by the longer tail in the distribution for non-survivors. High
blood urea nitrogen levels can be indicative of renal insufficiency or
failure, which is a known risk factor for mortality.</li>
<li><strong>Leucocyte Count by Outcome</strong>: The density plot shows
a higher peak for leucocyte count among survivors (outcome 0) compared
to non-survivors (outcome 1). However, there is a long tail in the
distribution for non-survivors, suggesting that some patients who did
not survive had very high leucocyte counts, which could indicate severe
infection or systemic stress.</li>
</ul>
</div>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>The EDA section provides a crucial step towards understanding the
multifaceted nature of mortality in heart failure patients within ICUs.
Age and gender are affirmed as key demographic factors, while the role
of comorbidities and physiological indicators is complex and
necessitates further investigation. The counterintuitive findings
regarding certain comorbidities invite a deeper examination of patient
histories and treatment efficacy.</p>
</div>
</div>
<div id="preliminary-study" class="section level2">
<h2>Preliminary Study</h2>
<div id="correlation-between-vital-signs" class="section level3">
<h3>Correlation between Vital Signs</h3>
<pre class="r"><code>#show correlation
corrplot(cor(sign_tidy |&gt; select(-outcome)), type = &quot;upper&quot;, order = &quot;AOE&quot;, diag = FALSE, title = &quot;Correlation Plot of Variables&quot;, cex.main = 1.5, mar = c(0, 0, 1, 0))</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-14-1.png" width="960" /></p>
<p>The correlation plot illustrates the relationships between vital
signs pairwise. Darker colors indicate stronger correlations, where blue
signifies positive correlations and red signifies negative ones.</p>
<p>Strong positive correlations were observed between variables such as
<code>rbc</code> and <code>hematocrit</code>, <code>mcv</code> and
<code>mch</code>, <code>inr</code> and <code>pt</code>,
<code>pco2</code> and <code>bicarbonate</code>. Conversely, a strong
negative correlation was found between <code>neutrophils</code> and
<code>lymphocyte</code>. Strong positive correlations often suggest the
potential for dimension reduction by merging these variables during
selection.</p>
</div>
<div id="cart-and-rf-dimension-reduction-and-core-variables-analysis"
class="section level3">
<h3>CART and rf: Dimension Reduction and Core Variables Analysis</h3>
<div id="analysis-of-patient-comorbidities-variables"
class="section level4">
<h4>Analysis of Patient comorbidities Variables</h4>
<pre class="r"><code>#decision tree for comorbidities
tree_com = ctree(outcome ~ ., data = com_tidy)
plot(tree_com, main = &quot;Decision Tree for Comorbidities&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>The decision tree employed variables <code>renal_failure</code> and
<code>atrialfibrillation</code> to predict the outcome, showing strong
evidence (p&lt;0.05) for selecting these two variables.</p>
<p>However, the probability distribution at the nodes suggests that this
decision-making approach might not be sufficiently reliable. This could
be due to the similar effects of each variable, making it challenging to
determine the next variable for refining the decision. Alternatively, it
might indicate insufficient evidence to support the selection of other
variables (p-values not meeting the criteria).</p>
<p>Furthermore, the binary nature of these patient comorbidities
variables posed certain challenges in constructing the classification
tree, making characteristics of the variables hard to analyze.</p>
<pre class="r"><code>#random forest for comorbidities
rf_com = randomForest(outcome ~ ., data = com_tidy)
importance(rf_com) |&gt; 
  as.data.frame() |&gt; 
  mutate(&quot;Mean Decrease in Gini&quot; = MeanDecreaseGini) |&gt;
  arrange(-MeanDecreaseGini) |&gt; 
  select(-MeanDecreaseGini) |&gt;
  head(8) |&gt; 
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean Decrease in Gini</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">atrialfibrillation</td>
<td align="right">5.509</td>
</tr>
<tr class="even">
<td align="left">hyperlipemia</td>
<td align="right">5.406</td>
</tr>
<tr class="odd">
<td align="left">renal_failure</td>
<td align="right">4.982</td>
</tr>
<tr class="even">
<td align="left">deficiencyanemias</td>
<td align="right">4.715</td>
</tr>
<tr class="odd">
<td align="left">diabetes</td>
<td align="right">3.930</td>
</tr>
<tr class="even">
<td align="left">chd_with_no_mi</td>
<td align="right">3.833</td>
</tr>
<tr class="odd">
<td align="left">hypertensive</td>
<td align="right">3.724</td>
</tr>
<tr class="even">
<td align="left">depression</td>
<td align="right">3.632</td>
</tr>
</tbody>
</table>
<pre class="r"><code>varImpPlot(rf_com, main = &quot;Random Forests for Comorbidities&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>The random forest yielded a list of variables ranked by their
importance based on <code>Mean Decrease in Gini</code>, a parameter
calculated by assessing the influence of variables on the nodes of the
classification tree.</p>
<p>In descending order of importance, the top 5 variables are:
<code>hyperlipemia</code>, <code>atrialfibrillation</code>,
<code>renal_failure</code>, <code>deficiencyanemias</code>,
<code>diabetes</code>.</p>
</div>
<div id="analysis-of-patient-vital-signs-variables"
class="section level4">
<h4>Analysis of Patient Vital Signs Variables</h4>
<pre class="r"><code>tree_sign = ctree(outcome ~ ., data = sign_tidy)
plot(tree_sign, main = &quot;Decision Tree for Vital Signs&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-17-1.png" width="1152" /></p>
<p>The analysis of continuous variables related to vital signs resulted
in the successful establishment of classification criteria by the
decision tree, incorporating a total of 7 variables. It formed a 4-level
classification structure with reasonably distributed probabilities
across nodes.</p>
<p>The primary level classification variable is <code>anion_gap</code>.
The secondary level classification variables are
<code>blood_calcium</code>, <code>bicarbonate</code>. The tertiary level
classification variables are <code>lactic_acid</code>,
<code>leucocyte</code>, <code>respiratory_rate</code>. The forth level
classification variable is <code>pt</code>.</p>
<pre class="r"><code>#random forest for vital signs
rf_sign = randomForest(outcome ~ ., data = sign_tidy)
importance(rf_sign) |&gt; 
  as.data.frame() |&gt;
  mutate(&quot;Mean Decrease in Gini&quot; = MeanDecreaseGini) |&gt;
  arrange(-MeanDecreaseGini) |&gt; 
  select(-MeanDecreaseGini) |&gt;
  head(8) |&gt; 
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Mean Decrease in Gini</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">anion_gap</td>
<td align="right">14.038</td>
</tr>
<tr class="even">
<td align="left">bicarbonate</td>
<td align="right">13.860</td>
</tr>
<tr class="odd">
<td align="left">lactic_acid</td>
<td align="right">13.235</td>
</tr>
<tr class="even">
<td align="left">lymphocyte</td>
<td align="right">11.737</td>
</tr>
<tr class="odd">
<td align="left">leucocyte</td>
<td align="right">10.970</td>
</tr>
<tr class="even">
<td align="left">urine_output</td>
<td align="right">10.852</td>
</tr>
<tr class="odd">
<td align="left">blood_calcium</td>
<td align="right">9.667</td>
</tr>
<tr class="even">
<td align="left">platelets</td>
<td align="right">9.388</td>
</tr>
</tbody>
</table>
<pre class="r"><code>varImpPlot(rf_sign, main = &quot;Random Forests for Vital Signs&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-18-1.png" width="768" /></p>
<p>Ranked by the <code>Mean Decrease in Gini</code>, the top 5 variables
are: <code>anion_gap</code>, <code>bicarbonate</code>,
<code>lactic_acid</code>, <code>lymphocyte</code>,
<code>leucocyte</code>.</p>
<p>The results obtained from the random forest exhibit a overlap with
the decision tree outcomes. In fact, random forest is an extension of
decision trees that address over-fitting issues inherent in decision
tree model. Therefore, we tend to prioritize the key variables
identified by the random forest.</p>
</div>
</div>
<div id="pca-dimension-reduction" class="section level3">
<h3>PCA: Dimension Reduction</h3>
<div id="dimension-reduction-for-patient-vital-signs-variables"
class="section level4">
<h4>Dimension Reduction for Patient Vital Signs Variables</h4>
<pre class="r"><code>#pca using R build-in function prcomp()
#pca_res_sign = prcomp(sign_tidy |&gt; select(-outcome), scale. = TRUE)
#summary(pca_res_sign)

#pca using packages `FactoMineR`, `factoextra`
#PCA() function would do the data standardization automatically.
#keep 5 dimensions as result.
res_pca_sign = PCA(sign_tidy |&gt; select(-outcome), scale.unit = TRUE, graph = FALSE)

#`variance.percent` explains the percentage of change. 70% would be adequate.
get_eigenvalue(res_pca_sign) |&gt; 
  as.data.frame() |&gt; 
  filter(cumulative.variance.percent &lt; 61) |&gt; 
  mutate(
    &quot;Eigenvalue&quot; = eigenvalue,
    &quot;Variance Percent&quot; = variance.percent,
    &quot;Cumulative Variance Percent&quot; = cumulative.variance.percent
  ) |&gt;
  select(-eigenvalue, -variance.percent, -cumulative.variance.percent) |&gt;
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Eigenvalue</th>
<th align="right">Variance Percent</th>
<th align="right">Cumulative Variance Percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Dim.1</td>
<td align="right">3.882</td>
<td align="right">10.784</td>
<td align="right">10.784</td>
</tr>
<tr class="even">
<td align="left">Dim.2</td>
<td align="right">3.081</td>
<td align="right">8.557</td>
<td align="right">19.342</td>
</tr>
<tr class="odd">
<td align="left">Dim.3</td>
<td align="right">2.521</td>
<td align="right">7.004</td>
<td align="right">26.346</td>
</tr>
<tr class="even">
<td align="left">Dim.4</td>
<td align="right">2.356</td>
<td align="right">6.543</td>
<td align="right">32.889</td>
</tr>
<tr class="odd">
<td align="left">Dim.5</td>
<td align="right">2.217</td>
<td align="right">6.159</td>
<td align="right">39.048</td>
</tr>
<tr class="even">
<td align="left">Dim.6</td>
<td align="right">1.974</td>
<td align="right">5.485</td>
<td align="right">44.532</td>
</tr>
<tr class="odd">
<td align="left">Dim.7</td>
<td align="right">1.697</td>
<td align="right">4.713</td>
<td align="right">49.246</td>
</tr>
<tr class="even">
<td align="left">Dim.8</td>
<td align="right">1.575</td>
<td align="right">4.375</td>
<td align="right">53.621</td>
</tr>
<tr class="odd">
<td align="left">Dim.9</td>
<td align="right">1.394</td>
<td align="right">3.871</td>
<td align="right">57.492</td>
</tr>
<tr class="even">
<td align="left">Dim.10</td>
<td align="right">1.258</td>
<td align="right">3.494</td>
<td align="right">60.986</td>
</tr>
</tbody>
</table>
<p>The <code>eigenvalue</code> connects with the amount of data variance
explained by each principal component (PC). A higher eigenvalue
indicates a more significant proportion of data variance that can be
defined (<code>variance.percent</code>).</p>
<p>The PCs are arranged in descending order based on the eigenvalues,
indicating that the PCs positioned earlier correspond to the directions
with the greatest data variation.</p>
<p>Typically, we can limit the number of dimensions/PCs by controlling
the <code>cumulative.variance.percent</code>. For instance, in this
case, we aimed to explain 60% of the total data variance in the model,
resulting in the selection of 10 dimensions.</p>
<pre class="r"><code>#scree plot
#visualize the contributions of each dimension.
fviz_screeplot(res_pca_sign, addlabels = TRUE, ylim = c(0, 15), main = &quot;Scree Plot of Dimension&#39;s Contributions&quot;, font.main = 15)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Another approach involves examining the <strong>scree plot</strong>,
which visualizes the ability of each dimension to explain the overall
variance in the data. When the explanatory power begins to decrease and
flatten out, it suggests diminishing returns regarding dimension
reduction. This is often considered a bottleneck point, and it’s
generally reasonable to halt operations.</p>
<p>In this instance, after introducing the third dimension, there’s a
limited change in the explanatory power as the dimensions increase.
Selecting the first three dimensions for subsequent model analysis might
be considered. However, due to the relatively small absolute size of the
overall explainable variance, the cumulative explained variance of the
first three dimensions falls short of 50%. Therefore, in this case, this
approach might not be suitable.</p>
<pre class="r"><code>#result_cos2
var_sign &lt;- get_pca_var(res_pca_sign) 
var_sign$cos2 |&gt;
  #for pca_var object &#39;$&#39; is necessary for exacting results
  as.data.frame() |&gt; 
  arrange(-Dim.1) |&gt; 
  head(10) |&gt; 
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Dim.1</th>
<th align="right">Dim.2</th>
<th align="right">Dim.3</th>
<th align="right">Dim.4</th>
<th align="right">Dim.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="right">0.497</td>
<td align="right">0.057</td>
<td align="right">0.053</td>
<td align="right">0.134</td>
<td align="right">0.004</td>
</tr>
<tr class="even">
<td align="left">anion_gap</td>
<td align="right">0.471</td>
<td align="right">0.042</td>
<td align="right">0.009</td>
<td align="right">0.147</td>
<td align="right">0.068</td>
</tr>
<tr class="odd">
<td align="left">urea_nitrogen</td>
<td align="right">0.424</td>
<td align="right">0.037</td>
<td align="right">0.117</td>
<td align="right">0.018</td>
<td align="right">0.081</td>
</tr>
<tr class="even">
<td align="left">creatinine</td>
<td align="right">0.325</td>
<td align="right">0.016</td>
<td align="right">0.201</td>
<td align="right">0.001</td>
<td align="right">0.049</td>
</tr>
<tr class="odd">
<td align="left">nt_pro_bnp</td>
<td align="right">0.307</td>
<td align="right">0.010</td>
<td align="right">0.014</td>
<td align="right">0.000</td>
<td align="right">0.004</td>
</tr>
<tr class="even">
<td align="left">urine_output</td>
<td align="right">0.191</td>
<td align="right">0.007</td>
<td align="right">0.001</td>
<td align="right">0.046</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">pco2</td>
<td align="right">0.191</td>
<td align="right">0.066</td>
<td align="right">0.163</td>
<td align="right">0.217</td>
<td align="right">0.004</td>
</tr>
<tr class="even">
<td align="left">hematocrit</td>
<td align="right">0.181</td>
<td align="right">0.174</td>
<td align="right">0.001</td>
<td align="right">0.115</td>
<td align="right">0.141</td>
</tr>
<tr class="odd">
<td align="left">rbc</td>
<td align="right">0.170</td>
<td align="right">0.389</td>
<td align="right">0.013</td>
<td align="right">0.092</td>
<td align="right">0.037</td>
</tr>
<tr class="even">
<td align="left">rdw</td>
<td align="right">0.114</td>
<td align="right">0.060</td>
<td align="right">0.014</td>
<td align="right">0.024</td>
<td align="right">0.216</td>
</tr>
</tbody>
</table>
<p>In a factor map, a higher <code>cos2</code> value close to 1
indicates a stronger relationship between the variable and the principal
component, signifying higher quality.</p>
<pre class="r"><code>#shows the quality of variables.
corrplot(var_sign$cos2, is.corr = FALSE, title = &quot;Variables Quality - PCs Correlation Plot&quot;, mar = c(0, 0, 1, 0), cl.align.text = &quot;l&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-22-1.png" width="960" /></p>
<p>The correlation plot visualizes the indicator <code>cos2</code>,
representing the variable-PC correlation. The model selected 5
dimensions for plotting the correlation map.</p>
<p>For <code>dim.1</code>, the variable with the highest correlation are
<code>bicarbonate</code>, <code>anion_gap</code>,
<code>urea_nitrogen</code>. For <code>dim.2</code>, the variable with
the highest correlation are <code>mch</code>, <code>rbc</code>.</p>
<pre class="r"><code>#result_contri
var_sign$contrib |&gt; 
  #for pca_var object &#39;$&#39; is necessary for exacting results
  as.data.frame() |&gt; 
  arrange(-Dim.1) |&gt; 
  head(10) |&gt;
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Dim.1</th>
<th align="right">Dim.2</th>
<th align="right">Dim.3</th>
<th align="right">Dim.4</th>
<th align="right">Dim.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">bicarbonate</td>
<td align="right">12.803</td>
<td align="right">1.852</td>
<td align="right">2.106</td>
<td align="right">5.675</td>
<td align="right">0.174</td>
</tr>
<tr class="even">
<td align="left">anion_gap</td>
<td align="right">12.132</td>
<td align="right">1.376</td>
<td align="right">0.375</td>
<td align="right">6.224</td>
<td align="right">3.050</td>
</tr>
<tr class="odd">
<td align="left">urea_nitrogen</td>
<td align="right">10.911</td>
<td align="right">1.194</td>
<td align="right">4.637</td>
<td align="right">0.755</td>
<td align="right">3.650</td>
</tr>
<tr class="even">
<td align="left">creatinine</td>
<td align="right">8.359</td>
<td align="right">0.513</td>
<td align="right">7.957</td>
<td align="right">0.058</td>
<td align="right">2.215</td>
</tr>
<tr class="odd">
<td align="left">nt_pro_bnp</td>
<td align="right">7.905</td>
<td align="right">0.310</td>
<td align="right">0.536</td>
<td align="right">0.002</td>
<td align="right">0.182</td>
</tr>
<tr class="even">
<td align="left">urine_output</td>
<td align="right">4.925</td>
<td align="right">0.213</td>
<td align="right">0.049</td>
<td align="right">1.950</td>
<td align="right">0.026</td>
</tr>
<tr class="odd">
<td align="left">pco2</td>
<td align="right">4.918</td>
<td align="right">2.154</td>
<td align="right">6.449</td>
<td align="right">9.191</td>
<td align="right">0.188</td>
</tr>
<tr class="even">
<td align="left">hematocrit</td>
<td align="right">4.668</td>
<td align="right">5.635</td>
<td align="right">0.029</td>
<td align="right">4.878</td>
<td align="right">6.339</td>
</tr>
<tr class="odd">
<td align="left">rbc</td>
<td align="right">4.380</td>
<td align="right">12.633</td>
<td align="right">0.506</td>
<td align="right">3.893</td>
<td align="right">1.682</td>
</tr>
<tr class="even">
<td align="left">rdw</td>
<td align="right">2.933</td>
<td align="right">1.934</td>
<td align="right">0.564</td>
<td align="right">1.005</td>
<td align="right">9.736</td>
</tr>
</tbody>
</table>
<p>The <code>var$contrib</code> provides the contribution magnitude of
variables to each PC. Subsequently, visualizations can be generated
based on the contribution values of variables to PCs. However, due to
limitations in two-dimensional plotting, typically only the first two
dimensions can be visualized.</p>
<pre class="r"><code>#shows the contribution in different dimensions.
corrplot(var_sign$contrib, is.corr = FALSE, title = &quot;Contributions - PCs Correlation Plot&quot;, mar = c(0, 0, 1, 0), cl.align.text = &quot;l&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-24-1.png" width="960" /></p>
<p>Correlation plot can draw emphasis on the highest contribution
variables in each dimension.</p>
<pre class="r"><code>fviz_contrib(res_pca_sign, choice = &quot;var&quot;, axes = 1, ylim = c(0, 15), top = 8)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<pre class="r"><code>fviz_contrib(res_pca_sign, choice = &quot;var&quot;, axes = 1:5, ylim = c(0, 7.5), top = 8)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-25-2.png" width="672" /></p>
<p>Generate bar charts displaying the contribution magnitude for each
dimension, with a red dashed line indicating the expected average
contribution.For a given PC, if a variable’s contribution exceeds this
threshold, it can be considered important within that PC or group of
PCs.</p>
<pre class="r"><code>#based on above results (`var_com$coord`)
#basically,
#(a) positive correlated variables are grouped together,
#(b) negative correlated variables are located on opposite sides of the origin,
#(c) the distance between the variable and the origin measures the quality of the variable. Variables that are far from the origin are well represented.

pca_coord = PCA(sign_tidy |&gt; select(anion_gap, blood_calcium, bicarbonate, lactic_acid, leucocyte, lymphocyte, neutrophils, rbc, urea_nitrogen), scale.unit = TRUE, graph = FALSE)

fviz_pca_var(pca_coord, col.var = &quot;contrib&quot;, gradient.cols = c(&quot;#00AFBB&quot;, &quot;#E7B800&quot;, &quot;#FC4E07&quot;)) |&gt; ggplotly()</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1e8f2131ea16f2122153" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1e8f2131ea16f2122153">{"x":{"data":[{"x":[-0.13291152498910364],"y":[-0.14164328579735919],"text":"rbc","hovertext":"x: -0.1329115<br />y: -0.1416432858<br />contrib:  0.9035090<br />name: rbc","textfont":{"size":15.118110236220474,"color":"rgba(0,175,187,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.19883805983908442],"y":[0.000925363824982651],"text":"blood_calcium","hovertext":"x: -0.1988381<br />y:  0.0009253638<br />contrib:  0.9468338<br />name: blood_calcium","textfont":{"size":15.118110236220474,"color":"rgba(11,175,186,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.36143489126605077],"y":[0.33725063716307668],"text":"lactic_acid","hovertext":"x:  0.3614349<br />y:  0.3372506372<br />contrib:  5.8521957<br />name: lactic_acid","textfont":{"size":15.118110236220474,"color":"rgba(164,180,120,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.53924164795205198],"y":[-0.18205346220402976],"text":"leucocyte","hovertext":"x:  0.5392416<br />y: -0.1820534622<br />contrib:  7.7572860<br />name: leucocyte","textfont":{"size":15.118110236220474,"color":"rgba(191,181,92,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.55576089503701354],"y":[0.247023386910456],"text":"urea_nitrogen","hovertext":"x:  0.5557609<br />y:  0.2470233869<br />contrib:  8.8580628<br />name: urea_nitrogen","textfont":{"size":15.118110236220474,"color":"rgba(204,182,74,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.64202166553084983],"y":[-0.47765238117070535],"text":"bicarbonate","hovertext":"x: -0.6420217<br />y: -0.4776523812<br />contrib: 15.3348100<br />name: bicarbonate","textfont":{"size":15.118110236220474,"color":"rgba(242,149,1,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.6973114937412076],"y":[0.51205394402518067],"text":"anion_gap","hovertext":"x:  0.6973115<br />y:  0.5120539440<br />contrib: 17.9235400<br />name: anion_gap","textfont":{"size":15.118110236220474,"color":"rgba(247,124,3,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.51865149942965583],"y":[-0.77125530749746485],"text":"neutrophils","hovertext":"x:  0.5186515<br />y: -0.7712553075<br />contrib: 20.6869122<br />name: neutrophils","textfont":{"size":15.118110236220474,"color":"rgba(251,92,6,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-0.5974038954881743],"y":[0.74214926306115658],"text":"lymphocyte","hovertext":"x: -0.5974039<br />y:  0.7421492631<br />contrib: 21.7368504<br />name: lymphocyte","textfont":{"size":15.118110236220474,"color":"rgba(252,78,7,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,-0.13291152498910364],"y":[0,-0.14164328579735919],"text":"xstart: 0<br />ystart: 0<br />x: -0.1329115<br />y: -0.1416432858<br />contrib:  0.9035090","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,175,187,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,-0.19883805983908442],"y":[0,0.000925363824982651],"text":"xstart: 0<br />ystart: 0<br />x: -0.1988381<br />y:  0.0009253638<br />contrib:  0.9468338","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(11,175,186,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.36143489126605077],"y":[0,0.33725063716307668],"text":"xstart: 0<br />ystart: 0<br />x:  0.3614349<br />y:  0.3372506372<br />contrib:  5.8521957","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(164,180,120,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.53924164795205198],"y":[0,-0.18205346220402976],"text":"xstart: 0<br />ystart: 0<br />x:  0.5392416<br />y: -0.1820534622<br />contrib:  7.7572860","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(191,181,92,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.55576089503701354],"y":[0,0.247023386910456],"text":"xstart: 0<br />ystart: 0<br />x:  0.5557609<br />y:  0.2470233869<br />contrib:  8.8580628","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(204,182,74,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,-0.64202166553084983],"y":[0,-0.47765238117070535],"text":"xstart: 0<br />ystart: 0<br />x: -0.6420217<br />y: -0.4776523812<br />contrib: 15.3348100","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(242,149,1,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.6973114937412076],"y":[0,0.51205394402518067],"text":"xstart: 0<br />ystart: 0<br />x:  0.6973115<br />y:  0.5120539440<br />contrib: 17.9235400","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(247,124,3,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.51865149942965583],"y":[0,-0.77125530749746485],"text":"xstart: 0<br />ystart: 0<br />x:  0.5186515<br />y: -0.7712553075<br />contrib: 20.6869122","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(251,92,6,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,-0.5974038954881743],"y":[0,0.74214926306115658],"text":"xstart: 0<br />ystart: 0<br />x: -0.5974039<br />y:  0.7421492631<br />contrib: 21.7368504","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(252,78,7,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1,-0.99179001382324605,-0.96729486303902945,-0.92691675734602175,-0.87131870412338941,-0.8014136218679565,-0.71834935009772749,-0.62348980185873348,-0.51839256831052505,-0.40478334312239383,-0.28452758663103256,-0.15959989503337918,-0.032051577571655207,0.096023025907681664,0.22252093395631445,0.3453650544213076,0.4625382902408352,0.57211666012216955,0.67230089026131656,0.7614459583691342,0.83808810489184049,0.90096886790241915,0.94905574701066864,0.98155915699106533,0.99794539275033634,0.99794539275033634,0.98155915699106544,0.94905574701066875,0.90096886790241915,0.83808810489184071,0.76144595836913453,0.67230089026131701,0.57211666012216988,0.4625382902408352,0.34536505442130805,0.22252093395631445,0.09602302590768233,-0.032051577571654985,-0.15959989503337854,-0.28452758663103211,-0.40478334312239306,-0.5183925683105246,-0.62348980185873348,-0.71834935009772716,-0.8014136218679565,-0.87131870412338897,-0.92691675734602164,-0.96729486303902923,-0.99179001382324605,-1,-1,-0.99179001382324605,-0.96729486303902945,-0.92691675734602175,-0.87131870412338941,-0.8014136218679565,-0.71834935009772749,-0.62348980185873348,-0.51839256831052505,-0.40478334312239383,-0.28452758663103256,-0.15959989503337918,-0.032051577571655207,0.096023025907681664,0.22252093395631445,0.3453650544213076,0.4625382902408352,0.57211666012216955,0.67230089026131656,0.7614459583691342,0.83808810489184049,0.90096886790241915,0.94905574701066864,0.98155915699106533,0.99794539275033634,0.99794539275033634,0.98155915699106544,0.94905574701066875,0.90096886790241915,0.83808810489184071,0.76144595836913453,0.67230089026131701,0.57211666012216988,0.4625382902408352,0.34536505442130805,0.22252093395631445,0.09602302590768233,-0.032051577571654985,-0.15959989503337854,-0.28452758663103211,-0.40478334312239306,-0.5183925683105246,-0.62348980185873348,-0.71834935009772716,-0.8014136218679565,-0.87131870412338897,-0.92691675734602164,-0.96729486303902923,-0.99179001382324605,-1],"y":[-1.2246467991473532e-16,-0.12787716168450605,-0.25365458390950735,-0.37526700487937403,-0.49071755200393774,-0.5981105304912161,-0.69568255060348649,-0.78183148246802991,-0.8551427630053462,-0.9144126230158125,-0.95866785303666058,-0.98718178341445018,-0.99948621620068789,-0.99537911294919823,-0.97492791218182362,-0.93846842204976044,-0.88659930637300011,-0.82017225459695597,-0.74027799707531572,-0.64822839530778864,-0.54553490121054893,-0.43388373911755812,-0.31510821802362071,-0.19115862870137243,-0.064070219980713106,0.064070219980712662,0.19115862870137199,0.31510821802362032,0.43388373911755812,0.5455349012105486,0.64822839530778831,0.74027799707531539,0.82017225459695575,0.88659930637300011,0.93846842204976022,0.97492791218182362,0.99537911294919812,0.99948621620068789,0.98718178341445029,0.95866785303666069,0.91441262301581283,0.85514276300534642,0.78183148246802991,0.69568255060348683,0.5981105304912161,0.49071755200393852,0.37526700487937448,0.25365458390950824,0.1278771616845065,1.2246467991473532e-16,1.2246467991473532e-16,0.12787716168450605,0.25365458390950735,0.37526700487937403,0.49071755200393774,0.5981105304912161,0.69568255060348649,0.78183148246802991,0.8551427630053462,0.9144126230158125,0.95866785303666058,0.98718178341445018,0.99948621620068789,0.99537911294919823,0.97492791218182362,0.93846842204976044,0.88659930637300011,0.82017225459695597,0.74027799707531572,0.64822839530778864,0.54553490121054893,0.43388373911755812,0.31510821802362071,0.19115862870137243,0.064070219980713106,-0.064070219980712662,-0.19115862870137199,-0.31510821802362032,-0.43388373911755812,-0.5455349012105486,-0.64822839530778831,-0.74027799707531539,-0.82017225459695575,-0.88659930637300011,-0.93846842204976022,-0.97492791218182362,-0.99537911294919812,-0.99948621620068789,-0.98718178341445029,-0.95866785303666069,-0.91441262301581283,-0.85514276300534642,-0.78183148246802991,-0.69568255060348683,-0.5981105304912161,-0.49071755200393852,-0.37526700487937448,-0.25365458390950824,-0.1278771616845065,-1.2246467991473532e-16],"text":["xcircle: -1.00000000<br />ycircle: -1.224647e-16","xcircle: -0.99179001<br />ycircle: -1.278772e-01","xcircle: -0.96729486<br />ycircle: -2.536546e-01","xcircle: -0.92691676<br />ycircle: -3.752670e-01","xcircle: -0.87131870<br />ycircle: -4.907176e-01","xcircle: -0.80141362<br />ycircle: -5.981105e-01","xcircle: -0.71834935<br />ycircle: -6.956826e-01","xcircle: -0.62348980<br />ycircle: -7.818315e-01","xcircle: -0.51839257<br />ycircle: -8.551428e-01","xcircle: -0.40478334<br />ycircle: -9.144126e-01","xcircle: -0.28452759<br />ycircle: -9.586679e-01","xcircle: -0.15959990<br />ycircle: -9.871818e-01","xcircle: -0.03205158<br />ycircle: -9.994862e-01","xcircle:  0.09602303<br />ycircle: -9.953791e-01","xcircle:  0.22252093<br />ycircle: -9.749279e-01","xcircle:  0.34536505<br />ycircle: -9.384684e-01","xcircle:  0.46253829<br />ycircle: -8.865993e-01","xcircle:  0.57211666<br />ycircle: -8.201723e-01","xcircle:  0.67230089<br />ycircle: -7.402780e-01","xcircle:  0.76144596<br />ycircle: -6.482284e-01","xcircle:  0.83808810<br />ycircle: -5.455349e-01","xcircle:  0.90096887<br />ycircle: -4.338837e-01","xcircle:  0.94905575<br />ycircle: -3.151082e-01","xcircle:  0.98155916<br />ycircle: -1.911586e-01","xcircle:  0.99794539<br />ycircle: -6.407022e-02","xcircle:  0.99794539<br />ycircle:  6.407022e-02","xcircle:  0.98155916<br />ycircle:  1.911586e-01","xcircle:  0.94905575<br />ycircle:  3.151082e-01","xcircle:  0.90096887<br />ycircle:  4.338837e-01","xcircle:  0.83808810<br />ycircle:  5.455349e-01","xcircle:  0.76144596<br />ycircle:  6.482284e-01","xcircle:  0.67230089<br />ycircle:  7.402780e-01","xcircle:  0.57211666<br />ycircle:  8.201723e-01","xcircle:  0.46253829<br />ycircle:  8.865993e-01","xcircle:  0.34536505<br />ycircle:  9.384684e-01","xcircle:  0.22252093<br />ycircle:  9.749279e-01","xcircle:  0.09602303<br />ycircle:  9.953791e-01","xcircle: -0.03205158<br />ycircle:  9.994862e-01","xcircle: -0.15959990<br />ycircle:  9.871818e-01","xcircle: -0.28452759<br />ycircle:  9.586679e-01","xcircle: -0.40478334<br />ycircle:  9.144126e-01","xcircle: -0.51839257<br />ycircle:  8.551428e-01","xcircle: -0.62348980<br />ycircle:  7.818315e-01","xcircle: -0.71834935<br />ycircle:  6.956826e-01","xcircle: -0.80141362<br />ycircle:  5.981105e-01","xcircle: -0.87131870<br />ycircle:  4.907176e-01","xcircle: -0.92691676<br />ycircle:  3.752670e-01","xcircle: -0.96729486<br />ycircle:  2.536546e-01","xcircle: -0.99179001<br />ycircle:  1.278772e-01","xcircle: -1.00000000<br />ycircle:  1.224647e-16","xcircle: -1.00000000<br />ycircle:  1.224647e-16","xcircle: -0.99179001<br />ycircle:  1.278772e-01","xcircle: -0.96729486<br />ycircle:  2.536546e-01","xcircle: -0.92691676<br />ycircle:  3.752670e-01","xcircle: -0.87131870<br />ycircle:  4.907176e-01","xcircle: -0.80141362<br />ycircle:  5.981105e-01","xcircle: -0.71834935<br />ycircle:  6.956826e-01","xcircle: -0.62348980<br />ycircle:  7.818315e-01","xcircle: -0.51839257<br />ycircle:  8.551428e-01","xcircle: -0.40478334<br />ycircle:  9.144126e-01","xcircle: -0.28452759<br />ycircle:  9.586679e-01","xcircle: -0.15959990<br />ycircle:  9.871818e-01","xcircle: -0.03205158<br />ycircle:  9.994862e-01","xcircle:  0.09602303<br />ycircle:  9.953791e-01","xcircle:  0.22252093<br />ycircle:  9.749279e-01","xcircle:  0.34536505<br />ycircle:  9.384684e-01","xcircle:  0.46253829<br />ycircle:  8.865993e-01","xcircle:  0.57211666<br />ycircle:  8.201723e-01","xcircle:  0.67230089<br />ycircle:  7.402780e-01","xcircle:  0.76144596<br />ycircle:  6.482284e-01","xcircle:  0.83808810<br />ycircle:  5.455349e-01","xcircle:  0.90096887<br />ycircle:  4.338837e-01","xcircle:  0.94905575<br />ycircle:  3.151082e-01","xcircle:  0.98155916<br />ycircle:  1.911586e-01","xcircle:  0.99794539<br />ycircle:  6.407022e-02","xcircle:  0.99794539<br />ycircle: -6.407022e-02","xcircle:  0.98155916<br />ycircle: -1.911586e-01","xcircle:  0.94905575<br />ycircle: -3.151082e-01","xcircle:  0.90096887<br />ycircle: -4.338837e-01","xcircle:  0.83808810<br />ycircle: -5.455349e-01","xcircle:  0.76144596<br />ycircle: -6.482284e-01","xcircle:  0.67230089<br />ycircle: -7.402780e-01","xcircle:  0.57211666<br />ycircle: -8.201723e-01","xcircle:  0.46253829<br />ycircle: -8.865993e-01","xcircle:  0.34536505<br />ycircle: -9.384684e-01","xcircle:  0.22252093<br />ycircle: -9.749279e-01","xcircle:  0.09602303<br />ycircle: -9.953791e-01","xcircle: -0.03205158<br />ycircle: -9.994862e-01","xcircle: -0.15959990<br />ycircle: -9.871818e-01","xcircle: -0.28452759<br />ycircle: -9.586679e-01","xcircle: -0.40478334<br />ycircle: -9.144126e-01","xcircle: -0.51839257<br />ycircle: -8.551428e-01","xcircle: -0.62348980<br />ycircle: -7.818315e-01","xcircle: -0.71834935<br />ycircle: -6.956826e-01","xcircle: -0.80141362<br />ycircle: -5.981105e-01","xcircle: -0.87131870<br />ycircle: -4.907176e-01","xcircle: -0.92691676<br />ycircle: -3.752670e-01","xcircle: -0.96729486<br />ycircle: -2.536546e-01","xcircle: -0.99179001<br />ycircle: -1.278772e-01","xcircle: -1.00000000<br />ycircle: -1.224647e-16"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(179,179,179,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1.0998972696375169,1.0978426623878532],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0],"y":[-1.0994348378207568,1.0994348378207568],"text":"xintercept: 0","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-1],"y":[-1],"name":"99_370b70dadd2a855ef66aed6be95843e6","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#00AFBB"],[0.0033444816053511696,"#10AFBA"],[0.0066889632107023445,"#1AAFB9"],[0.010033444816053515,"#22AFB8"],[0.013377926421404684,"#28AFB7"],[0.016722408026755856,"#2DAFB6"],[0.020066889632107024,"#32AFB5"],[0.023411371237458192,"#36AFB5"],[0.026755852842809364,"#3AB0B4"],[0.030100334448160532,"#3EB0B3"],[0.033444816053511704,"#41B0B2"],[0.036789297658862873,"#44B0B1"],[0.040133779264214055,"#47B0B0"],[0.043478260869565223,"#4AB0AF"],[0.046822742474916391,"#4DB0AE"],[0.050167224080267567,"#50B0AD"],[0.053511705685618735,"#52B0AC"],[0.05685618729096991,"#55B0AB"],[0.060200668896321079,"#57B0AA"],[0.063545150501672254,"#59B0A9"],[0.066889632107023422,"#5BB0A8"],[0.070234113712374591,"#5EB0A8"],[0.073578595317725759,"#60B0A7"],[0.076923076923076927,"#62B1A6"],[0.080267558528428096,"#64B1A5"],[0.083612040133779264,"#66B1A4"],[0.086956521739130432,"#68B1A3"],[0.090301003344481601,"#69B1A2"],[0.093645484949832769,"#6BB1A1"],[0.096989966555183951,"#6DB1A0"],[0.10033444816053512,"#6FB19F"],[0.10367892976588629,"#70B19E"],[0.10702341137123746,"#72B19D"],[0.11036789297658862,"#74B19C"],[0.11371237458193979,"#75B19B"],[0.11705685618729096,"#77B19A"],[0.12040133779264213,"#79B19A"],[0.1237458193979933,"#7AB199"],[0.12709030100334448,"#7CB198"],[0.13043478260869565,"#7DB297"],[0.13377926421404682,"#7FB296"],[0.13712374581939799,"#80B295"],[0.14046822742474915,"#81B294"],[0.14381270903010032,"#83B293"],[0.14715719063545149,"#84B292"],[0.15050167224080266,"#86B291"],[0.15384615384615385,"#87B290"],[0.157190635451505,"#88B28F"],[0.16053511705685619,"#8AB28E"],[0.16387959866220739,"#8BB28D"],[0.16722408026755853,"#8CB28C"],[0.17056856187290972,"#8DB28B"],[0.17391304347826086,"#8FB28A"],[0.17725752508361206,"#90B289"],[0.1806020066889632,"#91B388"],[0.1839464882943144,"#92B388"],[0.18729096989966554,"#94B387"],[0.19063545150501673,"#95B386"],[0.1939799331103679,"#96B385"],[0.19732441471571904,"#97B384"],[0.20066889632107024,"#98B383"],[0.20401337792642138,"#99B382"],[0.20735785953177258,"#9BB381"],[0.21070234113712372,"#9CB380"],[0.21404682274247491,"#9DB37F"],[0.21739130434782611,"#9EB37E"],[0.22073578595317725,"#9FB37D"],[0.22408026755852845,"#A0B37C"],[0.22742474916387959,"#A1B37B"],[0.23076923076923078,"#A2B37A"],[0.23411371237458192,"#A3B479"],[0.23745819397993312,"#A4B478"],[0.24080267558528426,"#A5B477"],[0.24414715719063546,"#A6B476"],[0.2474916387959866,"#A7B475"],[0.25083612040133779,"#A9B474"],[0.25418060200668896,"#AAB473"],[0.25752508361204013,"#ABB472"],[0.2608695652173913,"#ACB471"],[0.26421404682274247,"#ADB470"],[0.26755852842809363,"#AEB46F"],[0.2709030100334448,"#AEB46E"],[0.27424749163879597,"#AFB46D"],[0.27759197324414714,"#B0B46C"],[0.28093645484949831,"#B1B46B"],[0.28428093645484948,"#B2B46A"],[0.28762541806020064,"#B3B469"],[0.29096989966555181,"#B4B568"],[0.29431438127090298,"#B5B567"],[0.29765886287625415,"#B6B566"],[0.30100334448160532,"#B7B565"],[0.30434782608695654,"#B8B564"],[0.30769230769230765,"#B9B563"],[0.31103678929765888,"#BAB562"],[0.31438127090300999,"#BBB560"],[0.31772575250836121,"#BCB55F"],[0.32107023411371238,"#BCB55E"],[0.32441471571906355,"#BDB55D"],[0.32775919732441472,"#BEB55C"],[0.33110367892976589,"#BFB55B"],[0.33444816053511706,"#C0B55A"],[0.33779264214046822,"#C1B559"],[0.34113712374581939,"#C2B558"],[0.34448160535117062,"#C3B657"],[0.34782608695652178,"#C3B656"],[0.3511705685618729,"#C4B654"],[0.35451505016722407,"#C5B653"],[0.35785953177257529,"#C6B652"],[0.36120401337792646,"#C7B651"],[0.36454849498327757,"#C8B650"],[0.36789297658862874,"#C8B64F"],[0.37123745819397996,"#C9B64D"],[0.37458193979933113,"#CAB64C"],[0.37792642140468224,"#CBB64B"],[0.38127090301003347,"#CCB64A"],[0.38461538461538458,"#CDB649"],[0.38795986622073581,"#CDB647"],[0.39130434782608697,"#CEB646"],[0.39464882943143809,"#CFB645"],[0.39799331103678925,"#D0B644"],[0.40133779264214048,"#D1B642"],[0.40468227424749165,"#D1B741"],[0.40802675585284276,"#D2B740"],[0.41137123745819393,"#D3B73E"],[0.41471571906354515,"#D4B73D"],[0.41806020066889632,"#D5B73B"],[0.42140468227424743,"#D5B73A"],[0.4247491638795986,"#D6B739"],[0.42809364548494983,"#D7B737"],[0.43143812709030099,"#D8B736"],[0.43478260869565222,"#D8B734"],[0.43812709030100333,"#D9B732"],[0.4414715719063545,"#DAB731"],[0.44481605351170567,"#DBB72F"],[0.44816053511705689,"#DCB72D"],[0.451505016722408,"#DCB72C"],[0.45484949832775917,"#DDB72A"],[0.45819397993311034,"#DEB728"],[0.46153846153846156,"#DFB726"],[0.46488294314381268,"#DFB724"],[0.46822742474916385,"#E0B822"],[0.47157190635451507,"#E1B820"],[0.47491638795986624,"#E2B81D"],[0.47826086956521735,"#E2B81B"],[0.48160535117056852,"#E3B818"],[0.48494983277591974,"#E4B815"],[0.48829431438127091,"#E4B811"],[0.49163879598662202,"#E5B80D"],[0.49498327759197319,"#E6B808"],[0.49832775919732442,"#E7B803"],[0.50167224080267558,"#E7B800"],[0.50501672240802675,"#E7B700"],[0.50836120401337792,"#E8B700"],[0.51170568561872909,"#E8B600"],[0.51505016722408026,"#E8B500"],[0.51839464882943143,"#E8B500"],[0.52173913043478259,"#E8B400"],[0.52508361204013376,"#E9B400"],[0.52842809364548493,"#E9B300"],[0.5317725752508361,"#E9B200"],[0.53511705685618727,"#E9B200"],[0.53846153846153844,"#E9B100"],[0.5418060200668896,"#EAB100"],[0.54515050167224077,"#EAB000"],[0.54849498327759194,"#EAAF00"],[0.55183946488294311,"#EAAF00"],[0.55518394648829428,"#EAAE00"],[0.55852842809364556,"#EBAE00"],[0.56187290969899661,"#EBAD00"],[0.56521739130434778,"#EBAC00"],[0.56856187290969895,"#EBAC00"],[0.57190635451505023,"#EBAB00"],[0.57525083612040129,"#ECAB00"],[0.57859531772575246,"#ECAA00"],[0.58193979933110362,"#ECA900"],[0.5852842809364549,"#ECA900"],[0.58862876254180596,"#ECA800"],[0.59197324414715713,"#EDA800"],[0.5953177257525083,"#EDA700"],[0.59866220735785958,"#EDA600"],[0.60200668896321063,"#EDA600"],[0.6053511705685618,"#EDA500"],[0.60869565217391308,"#EEA500"],[0.61204013377926425,"#EEA400"],[0.61538461538461531,"#EEA300"],[0.61872909698996648,"#EEA300"],[0.62207357859531776,"#EEA200"],[0.62541806020066892,"#EEA100"],[0.62876254180601998,"#EFA101"],[0.63210702341137115,"#EFA001"],[0.63545150501672243,"#EFA001"],[0.6387959866220736,"#EF9F01"],[0.64214046822742477,"#EF9E01"],[0.64548494983277582,"#EF9E01"],[0.6488294314381271,"#F09D01"],[0.65217391304347827,"#F09C01"],[0.65551839464882944,"#F09C01"],[0.65886287625418061,"#F09B01"],[0.66220735785953178,"#F09B01"],[0.66555183946488294,"#F09A01"],[0.66889632107023411,"#F19901"],[0.67224080267558528,"#F19901"],[0.67558528428093645,"#F19801"],[0.67892976588628762,"#F19701"],[0.68227424749163879,"#F19701"],[0.68561872909698995,"#F19601"],[0.68896321070234112,"#F29601"],[0.69230769230769229,"#F29501"],[0.69565217391304346,"#F29401"],[0.69899665551839463,"#F29401"],[0.7023411371237458,"#F29301"],[0.70568561872909696,"#F29201"],[0.70903010033444813,"#F29201"],[0.7123745819397993,"#F39101"],[0.71571906354515047,"#F39001"],[0.71906354515050164,"#F39001"],[0.72240802675585281,"#F38F02"],[0.72575250836120397,"#F38E02"],[0.72909698996655514,"#F38E02"],[0.73244147157190631,"#F38D02"],[0.73578595317725748,"#F48C02"],[0.73913043478260854,"#F48C02"],[0.7424749163879597,"#F48B02"],[0.74581939799331087,"#F48A02"],[0.74916387959866215,"#F48A02"],[0.75250836120401332,"#F48902"],[0.75585284280936449,"#F48802"],[0.75919732441471566,"#F58802"],[0.76254180602006694,"#F58702"],[0.76588628762541811,"#F58602"],[0.76923076923076916,"#F58602"],[0.77257525083612033,"#F58502"],[0.77591973244147161,"#F58402"],[0.77926421404682278,"#F58402"],[0.78260869565217395,"#F58302"],[0.78595317725752512,"#F68202"],[0.78929765886287617,"#F68203"],[0.79264214046822734,"#F68103"],[0.79598662207357851,"#F68003"],[0.79933110367892968,"#F67F03"],[0.80267558528428096,"#F67F03"],[0.80602006688963213,"#F67E03"],[0.80936454849498329,"#F67D03"],[0.81270903010033446,"#F77D03"],[0.81605351170568552,"#F77C03"],[0.81939799331103669,"#F77B03"],[0.82274247491638786,"#F77A03"],[0.82608695652173914,"#F77A03"],[0.8294314381270903,"#F77903"],[0.83277591973244147,"#F77803"],[0.83612040133779264,"#F77803"],[0.83946488294314381,"#F87703"],[0.84280936454849487,"#F87603"],[0.84615384615384603,"#F87504"],[0.8494983277591972,"#F87504"],[0.85284280936454848,"#F87404"],[0.85618729096989965,"#F87304"],[0.85953177257525082,"#F87204"],[0.86287625418060199,"#F87204"],[0.86622073578595316,"#F87104"],[0.86956521739130443,"#F97004"],[0.87290969899665538,"#F96F04"],[0.87625418060200666,"#F96E04"],[0.87959866220735783,"#F96E04"],[0.882943143812709,"#F96D04"],[0.88628762541806017,"#F96C04"],[0.88963210702341133,"#F96B04"],[0.89297658862876261,"#F96B04"],[0.89632107023411378,"#F96A05"],[0.89966555183946473,"#F96905"],[0.90301003344481601,"#FA6805"],[0.90635451505016718,"#FA6705"],[0.90969899665551834,"#FA6705"],[0.91304347826086951,"#FA6605"],[0.91638795986622068,"#FA6505"],[0.91973244147157196,"#FA6405"],[0.92307692307692313,"#FA6305"],[0.92642140468227419,"#FA6205"],[0.92976588628762535,"#FA6205"],[0.93311036789297652,"#FA6105"],[0.93645484949832769,"#FA6005"],[0.93979933110367886,"#FB5F06"],[0.94314381270903014,"#FB5E06"],[0.94648829431438131,"#FB5D06"],[0.94983277591973247,"#FB5C06"],[0.95317725752508353,"#FB5B06"],[0.9565217391304347,"#FB5A06"],[0.95986622073578587,"#FB5A06"],[0.96321070234113704,"#FB5906"],[0.96655518394648821,"#FB5806"],[0.96989966555183948,"#FB5706"],[0.97324414715719065,"#FB5606"],[0.97658862876254182,"#FB5506"],[0.97993311036789299,"#FC5406"],[0.98327759197324405,"#FC5307"],[0.98662207357859522,"#FC5207"],[0.98996655518394638,"#FC5107"],[0.99331103678929766,"#FC5007"],[0.99665551839464883,"#FC4F07"],[1,"#FC4E07"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"contrib","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["5","10","15","20"],"tickvals":[0.19663149165887581,0.43663139813689561,0.67663130461491539,0.91663121109293533],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":48.949771689497723},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Variables - PCA","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.0998972696375169,1.0978426623878532],"tickmode":"array","ticktext":["-1.0","-0.5","0.0","0.5","1.0"],"tickvals":[-1,-0.49999999999999989,0,0.5,1.0000000000000002],"categoryorder":"array","categoryarray":["-1.0","-0.5","0.0","0.5","1.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Dim1 (25.7%)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"scaleanchor":"y","scaleratio":1,"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.0994348378207568,1.0994348378207568],"tickmode":"array","ticktext":["-1.0","-0.5","0.0","0.5","1.0"],"tickvals":[-1,-0.5,0,0.5,1],"categoryorder":"array","categoryarray":["-1.0","-0.5","0.0","0.5","1.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Dim2 (20.7%)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"scaleanchor":"x","scaleratio":1,"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e89811e6fd75":{"x":{},"y":{},"colour":{},"label":{},"type":"scatter"},"e898540a1581":{"x":{},"y":{},"xend":{},"yend":{},"colour":{}},"e8986209f341":{"x":{},"y":{}},"e8987b4162af":{"yintercept":{}},"e8981b60e61":{"xintercept":{}}},"cur_data":"e89811e6fd75","visdat":{"e89811e6fd75":["function (y) ","x"],"e898540a1581":["function (y) ","x"],"e8986209f341":["function (y) ","x"],"e8987b4162af":["function (y) ","x"],"e8981b60e61":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>We’ve created visualizations showcasing the importance of variables
concerning the two most significant dimensions.</p>
<p><code>cos2</code> is used to assess the importance of the variables,
represented by the distance between the arrow endpoint and the origin of
the plot. Variables closer to the correlation circle with r=1 indicate
higher representation on the factor map, signifying greater importance.
Variables closer to the center of the plot are less important for the
selected principal components.</p>
<p>Additionally, variables with larger contributions can be highlighted
on the correlation plot by coloring them based on the values from
<code>var_sign$contrib</code>.</p>
<pre class="r"><code>#colored individuals
fviz_pca_ind(res_pca_sign,
             geom.ind = &quot;point&quot;,
             col.ind = as.character(sign_tidy$outcome),
             palette = c(&quot;#00AFBB&quot;, &quot;#FC4E07&quot;),
             addEllipses = TRUE,
             legend.title = &quot;Outcome&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Based on the outcome (<code>Alive</code> or <code>Death</code>), the
data points were grouped and color-coded accordingly. Ellipses were
generated to encapsulate the sample points for different groups (alive
and death), showcasing the analysis using the two principal
components.</p>
</div>
</div>
</div>
<div id="regression" class="section level2">
<h2>Regression</h2>
<p>In this section, we want to generate a generalized linear model to
see the relationship between patients’ mortality status and predictive
variables.</p>
<div id="generalized-linear-model" class="section level3">
<h3>Generalized linear model</h3>
<p>Due to the response variable (outcome) is binary variable, a
generalized linear model (GLM) is chosen for regression analysis.</p>
<div id="data-pre-processing" class="section level4">
<h4>Data Pre-processing</h4>
<p>Firstly, to prepare the data for the regression, the data types of
categorical variables will be transformed to factor. This subset of
variables includes group (1 denoting the derivation group, 2 denoting
the validation group), gender (1 denoting male, 2 denoting female),
outcome (0 denoting alive, 1 denoting death), and the remaining
comorbidity variables (0 denoting not having the disease, 1 denoting
having the disease)</p>
<pre class="r"><code>library(tidyverse)
library(stargazer)
library(ROCR)

convert_to_factor &lt;- function(df, columns) {
  df[columns] &lt;- lapply(df[columns], factor)
  return(df)
}

mortality_cleaned = 
  read_csv(&quot;mortality_data_cleaned.csv&quot;) |&gt;
  janitor::clean_names()  |&gt;
  convert_to_factor(c(&quot;group&quot;, &quot;gender&quot;, &quot;outcome&quot;, &quot;hypertensive&quot;, 
                      &quot;atrialfibrillation&quot;, &quot;chd_with_no_mi&quot;, &quot;diabetes&quot;, 
                      &quot;deficiencyanemias&quot;, &quot;depression&quot;, &quot;hyperlipemia&quot;, 
                      &quot;renal_failure&quot;, &quot;copd&quot;))</code></pre>
</div>
<div
id="generalized-linear-model-for-complete-dataset-group-1-and-group-2"
class="section level4">
<h4>Generalized Linear Model for Complete Dataset (Group 1 and Group
2)</h4>
<p>Fit a logistic regression model using all patients data (including
both the derivation and validation groups) and use the stepwise method
to select predictors to be included in the model.</p>
<pre class="r"><code>mortality_complete = 
  mortality_cleaned |&gt;
  select(-group, -id)
glm_complete = glm(outcome ~ ., data = mortality_complete, family = binomial(link = logit))
stepwise_complete = step(glm_complete)</code></pre>
<pre class="r"><code>stepwise_complete |&gt;
  broom::tidy() |&gt;
  select(term, estimate, p.value) |&gt;
  knitr::kable(
    caption = &quot;Estimate and P-value of Generalized Linear Model Using All Patients Data&quot;, 
    col.names = c(&quot;Predictor&quot;, &quot;Estimate&quot;, &quot;P-value&quot;),
    digits = 3
  ) |&gt;
    kableExtra::kable_styling(
    &quot;basic&quot;,
    full_width = FALSE,
    bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;),
    position = &quot;center&quot;, 
    font_size = 16, 
    latex_options = c(&quot;hold_position&quot;)
  )</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Estimate and P-value of Generalized Linear Model Using All Patients Data
</caption>
<thead>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:right;">
Estimate
</th>
<th style="text-align:right;">
P-value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
19.259
</td>
<td style="text-align:right;">
0.045
</td>
</tr>
<tr>
<td style="text-align:left;">
age
</td>
<td style="text-align:right;">
0.014
</td>
<td style="text-align:right;">
0.123
</td>
</tr>
<tr>
<td style="text-align:left;">
deficiencyanemias1
</td>
<td style="text-align:right;">
-0.654
</td>
<td style="text-align:right;">
0.008
</td>
</tr>
<tr>
<td style="text-align:left;">
renal_failure1
</td>
<td style="text-align:right;">
-1.142
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
copd1
</td>
<td style="text-align:right;">
-1.128
</td>
<td style="text-align:right;">
0.014
</td>
</tr>
<tr>
<td style="text-align:left;">
heart_rate
</td>
<td style="text-align:right;">
0.023
</td>
<td style="text-align:right;">
0.002
</td>
</tr>
<tr>
<td style="text-align:left;">
diastolic_blood_pressure
</td>
<td style="text-align:right;">
-0.027
</td>
<td style="text-align:right;">
0.024
</td>
</tr>
<tr>
<td style="text-align:left;">
respiratory_rate
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.150
</td>
</tr>
<tr>
<td style="text-align:left;">
temperature
</td>
<td style="text-align:right;">
-0.267
</td>
<td style="text-align:right;">
0.134
</td>
</tr>
<tr>
<td style="text-align:left;">
sp_o2
</td>
<td style="text-align:right;">
-0.097
</td>
<td style="text-align:right;">
0.038
</td>
</tr>
<tr>
<td style="text-align:left;">
urine_output
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.122
</td>
</tr>
<tr>
<td style="text-align:left;">
mch
</td>
<td style="text-align:right;">
0.082
</td>
<td style="text-align:right;">
0.098
</td>
</tr>
<tr>
<td style="text-align:left;">
mchc
</td>
<td style="text-align:right;">
-0.203
</td>
<td style="text-align:right;">
0.058
</td>
</tr>
<tr>
<td style="text-align:left;">
rdw
</td>
<td style="text-align:right;">
0.104
</td>
<td style="text-align:right;">
0.044
</td>
</tr>
<tr>
<td style="text-align:left;">
leucocyte
</td>
<td style="text-align:right;">
0.049
</td>
<td style="text-align:right;">
0.016
</td>
</tr>
<tr>
<td style="text-align:left;">
platelets
</td>
<td style="text-align:right;">
-0.003
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
lymphocyte
</td>
<td style="text-align:right;">
-0.025
</td>
<td style="text-align:right;">
0.122
</td>
</tr>
<tr>
<td style="text-align:left;">
creatinine
</td>
<td style="text-align:right;">
-0.471
</td>
<td style="text-align:right;">
0.010
</td>
</tr>
<tr>
<td style="text-align:left;">
urea_nitrogen
</td>
<td style="text-align:right;">
0.022
</td>
<td style="text-align:right;">
0.002
</td>
</tr>
<tr>
<td style="text-align:left;">
blood_potassium
</td>
<td style="text-align:right;">
0.413
</td>
<td style="text-align:right;">
0.127
</td>
</tr>
<tr>
<td style="text-align:left;">
blood_calcium
</td>
<td style="text-align:right;">
-0.760
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
anion_gap
</td>
<td style="text-align:right;">
0.206
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
magnesium_ion
</td>
<td style="text-align:right;">
0.718
</td>
<td style="text-align:right;">
0.095
</td>
</tr>
<tr>
<td style="text-align:left;">
bicarbonate
</td>
<td style="text-align:right;">
-0.082
</td>
<td style="text-align:right;">
0.022
</td>
</tr>
<tr>
<td style="text-align:left;">
pco2
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:right;">
0.002
</td>
</tr>
</tbody>
</table>
<p>The model fitted using data from all patients is:</p>
<p><span class="math display">\[
outcome \sim age+deficiencyanemias1+renal\_failure1+copd1\\
+heart\_rate+diastolic\_blood\_pressure+respiratory\_rate\\
+temperature+sp\_o2+urine\_output+mch+mchc+rdw+leucocyte\\
+platelets+lymphocyte+creatinine+urea\_nitrogen\\
+blood\_potassium+blood\_calcium+anion\_gap+magnesium\_ion\\
+bicarbonate+pco2
\]</span></p>
<p>It is worth noting that among the comorbidity variables, only
deficiencyanemias, renal_failure, and copd are selected by model, and
the estimates for all three are negative. This suggests that the
occurrence of these three comorbidities is associated with a decrease in
mortality, which is counterintuitive. This phenomenon may be attributed
to the correlation between the onset of these diseases and early
diagnosis and treatment. Early detection and treatment of these diseases
might reduce the risk of death. Alternatively, the occurrence of these
diseases may prompt patients to pay more attention to their health and
take actions to improve their health conditions, thereby enhancing their
survival rates.</p>
<p>In the remaining variables, the most significant six are
blood_calcium, anion_gap, platelets, heart_rate, urea_nitrogen, and
pco2. They may have the potential to be important physiological
indicators worth monitoring closely in ICU patients.</p>
</div>
<div id="generalized-linear-model-for-derivation-dataset-group-1"
class="section level4">
<h4>Generalized Linear Model for Derivation Dataset (Group 1)</h4>
<p>Fit a logistic regression model using patients data from group1
(derivation group) and use the stepwise method to select predictors to
be included in the model.</p>
<pre class="r"><code>mortality_derivation =
  mortality_cleaned |&gt;
  filter(group == 1) |&gt;
  select(-group, -id) 
glm_derivation = glm(outcome ~ ., data = mortality_derivation, family = binomial(link = logit))
stepwise_derivation = step(glm_derivation)</code></pre>
<pre class="r"><code>stepwise_derivation |&gt;
  broom::tidy() |&gt;
  select(term, estimate, p.value) |&gt;
  knitr::kable(
    caption = &quot;Estimate and P-value of Generalized Linear Model Using Patients Data from Derivation Group&quot;, 
    col.names = c(&quot;Predictor&quot;, &quot;Estimate&quot;, &quot;P-value&quot;),
    digits = 3
  ) |&gt;
    kableExtra::kable_styling(
    &quot;basic&quot;,
    full_width = FALSE,
    bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;),
    position = &quot;center&quot;, 
    font_size = 16, 
    latex_options = c(&quot;hold_position&quot;)
  )</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Estimate and P-value of Generalized Linear Model Using Patients Data
from Derivation Group
</caption>
<thead>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:right;">
Estimate
</th>
<th style="text-align:right;">
P-value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
3.672
</td>
<td style="text-align:right;">
0.555
</td>
</tr>
<tr>
<td style="text-align:left;">
age
</td>
<td style="text-align:right;">
0.025
</td>
<td style="text-align:right;">
0.036
</td>
</tr>
<tr>
<td style="text-align:left;">
gender2
</td>
<td style="text-align:right;">
-0.377
</td>
<td style="text-align:right;">
0.148
</td>
</tr>
<tr>
<td style="text-align:left;">
hypertensive1
</td>
<td style="text-align:right;">
-0.426
</td>
<td style="text-align:right;">
0.127
</td>
</tr>
<tr>
<td style="text-align:left;">
atrialfibrillation1
</td>
<td style="text-align:right;">
0.455
</td>
<td style="text-align:right;">
0.089
</td>
</tr>
<tr>
<td style="text-align:left;">
diabetes1
</td>
<td style="text-align:right;">
-0.479
</td>
<td style="text-align:right;">
0.085
</td>
</tr>
<tr>
<td style="text-align:left;">
deficiencyanemias1
</td>
<td style="text-align:right;">
-0.634
</td>
<td style="text-align:right;">
0.033
</td>
</tr>
<tr>
<td style="text-align:left;">
hyperlipemia1
</td>
<td style="text-align:right;">
-0.441
</td>
<td style="text-align:right;">
0.127
</td>
</tr>
<tr>
<td style="text-align:left;">
renal_failure1
</td>
<td style="text-align:right;">
-0.894
</td>
<td style="text-align:right;">
0.007
</td>
</tr>
<tr>
<td style="text-align:left;">
copd1
</td>
<td style="text-align:right;">
-1.513
</td>
<td style="text-align:right;">
0.014
</td>
</tr>
<tr>
<td style="text-align:left;">
heart_rate
</td>
<td style="text-align:right;">
0.026
</td>
<td style="text-align:right;">
0.002
</td>
</tr>
<tr>
<td style="text-align:left;">
diastolic_blood_pressure
</td>
<td style="text-align:right;">
-0.037
</td>
<td style="text-align:right;">
0.010
</td>
</tr>
<tr>
<td style="text-align:left;">
sp_o2
</td>
<td style="text-align:right;">
-0.108
</td>
<td style="text-align:right;">
0.040
</td>
</tr>
<tr>
<td style="text-align:left;">
mcv
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
0.016
</td>
</tr>
<tr>
<td style="text-align:left;">
rdw
</td>
<td style="text-align:right;">
0.120
</td>
<td style="text-align:right;">
0.034
</td>
</tr>
<tr>
<td style="text-align:left;">
platelets
</td>
<td style="text-align:right;">
-0.002
</td>
<td style="text-align:right;">
0.049
</td>
</tr>
<tr>
<td style="text-align:left;">
lymphocyte
</td>
<td style="text-align:right;">
-0.042
</td>
<td style="text-align:right;">
0.031
</td>
</tr>
<tr>
<td style="text-align:left;">
creatinine
</td>
<td style="text-align:right;">
-0.646
</td>
<td style="text-align:right;">
0.003
</td>
</tr>
<tr>
<td style="text-align:left;">
urea_nitrogen
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
blood_calcium
</td>
<td style="text-align:right;">
-0.942
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
anion_gap
</td>
<td style="text-align:right;">
0.310
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
lactic_acid
</td>
<td style="text-align:right;">
0.277
</td>
<td style="text-align:right;">
0.056
</td>
</tr>
<tr>
<td style="text-align:left;">
pco2
</td>
<td style="text-align:right;">
0.037
</td>
<td style="text-align:right;">
0.005
</td>
</tr>
</tbody>
</table>
<p>The model fitted using data from derivation group is:</p>
<p><span class="math display">\[
outcome\sim age+gender2+hypertensive1+atrialfibrillation1+diabetes1\\
+deficiencyanemias1+hyperlipemia1+renal\_failure1+copd1+heart\_rate\\
+diastolic\_blood\_pressure+sp\_o2+mcv+rdw+platelets+lymphocyte\\
+creatinine+urea\_nitrogen+blood\_calcium+anion\_gap+lactic\_acid+pco2
\]</span></p>
<p>Among all the predictors selected, there are 7 comorbidity variables:
hypertensive, atrialfibrillation, diabetes, deficiencyanemias,
hyperlipemia, renal_failure and copd. All of them have negative
estimates except for atrialfibrillation. This indicates that the
occurrence of other complications leads to a decrease in mortality (as
discussed in the complete model section), but the presence of atrial
fibrillation is a noteworthy sign of mortality and should be closely
monitored, especially in the ICU. In the remaining variables, the most
significant five are blood_calcium, anion_gap, heart_rate,
urea_nitrogen, and creatinine. All of them excapt for creatinine are
also among the most significant factors in the complete model, and these
four should be particularly noteworthy.</p>
</div>
<div id="model-evaluation-on-validation-group-group-2"
class="section level4">
<h4>Model Evaluation on Validation Group (Group 2)</h4>
<p>For the model generated using derivation group data, validate it on
the validation group and plot Receiver Operating Characteristic (ROC)
Curve.</p>
<pre class="r"><code>mortality_validation =
  mortality_cleaned |&gt;
  filter(group == 2) |&gt;
  select(-group, -id) 
predict = predict(stepwise_derivation, newdata = mortality_validation, type = &quot;response&quot;)
pred = prediction(predictions = predict, labels = mortality_validation$outcome)
roc = performance(pred, &quot;tpr&quot;, &quot;fpr&quot;)
auc = performance(pred, measure = &quot;auc&quot;)@y.values[[1]]

plot(roc, colorize = F)
title(main = &quot;The ROC Curve of Generalized Linear Model&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>The AUC of the model on validation dataset: 0.7757475. According to
the ROC plot and AUC value, the predictive performance of the model on
the validation group data is generally satisfactory.</p>
</div>
</div>
<div id="conclusion-1" class="section level3">
<h3>Conclusion</h3>
<p>The regression models, with reasonable predictive performance,
underscore the potential for developing more sophisticated predictive
tools. Future research should expand upon this work with larger datasets
and consider the integration of machine learning approaches to enhance
predictive accuracy. This could ultimately lead to improved patient
stratification and personalized treatment protocols in critical care
environments.</p>
</div>
</div>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<p>This study’s exploratory data analysis (EDA) on ICU heart failure
patients highlights several factors influencing mortality rates. We
observed a higher mortality rate in males and a significant
vulnerability among the elderly. Comorbidities like hypertension and
diabetes, although prevalent, did not exhibit a clear impact on
mortality. However, certain lab results, such as hematocrit and blood
urea nitrogen levels, emerged as potential biomarkers for mortality.</p>
<p>The logistic regression analysis further refined our understanding.
Surprisingly, comorbidities such as deficiency anemias, renal failure,
and COPD were inversely associated with mortality. This counterintuitive
finding might reflect the benefits of early diagnosis and management.
Key physiological indicators, including blood calcium and anion gap,
were identified, and their significance was reinforced in both complete
and derivation datasets.</p>
<div id="challenges" class="section level2">
<h2>Challenges</h2>
<p>In our dimension reduction efforts, the anticipated benefits were not
fully realized. Dimensionality reduction techniques, such as PCA,
struggled with delineating a subset of dimensions that significantly
contributed to predictive performance. This lack of discernible variance
contribution gradient complicates the determination of an ideal
dimension count. Similarly, our random forests models did not
consistently select classification nodes that enhanced outcome
prediction success rates. These challenges may stem from low variable
correlation, diminishing the efficacy of reduced dimension
representations. Moreover, the binary nature of the ‘outcome’ variable
may have inherently limited the development of a robust model.</p>
<p>When established Rshiny dashboard, we encountered problems of
decision of choosing appropriate interaction plots, setting indexes
options and converting different types of plots. The most significant
obstacle was resolving conflicts between the R Markdown rendering
command and the native HTML format, which impeded seamless dashboard
previews. This suggests a need for more streamlined integration methods
between R Shiny and existing web frameworks.</p>
</div>
<div id="insights" class="section level2">
<h2>Insights</h2>
<p>The initial analysis yields promising directions, but the data’s
integrity is compromised by the prevalence of missing values.
Substituting these with mean values, while practical, introduces an
element of bias, potentially skewing the accuracy of our conclusions.
This methodological limitation underscores the need for a more
comprehensive dataset to validate our findings. Acquiring additional,
high-quality data will be crucial for enhancing the robustness of our
conclusions and ensuring that our predictive models reliably reflect the
underlying clinical realities.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
